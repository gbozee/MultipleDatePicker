<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
  <meta charset="UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Multiple Date Picker</title><!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

  <link rel="stylesheet" href="dist/multiple-date-picker.css">
  <link rel="stylesheet" href="booking.css">

</head>
<body ng-cloak>
<div class="container">


  <div class="row">
    <div ng-controller="HelloCtrl" class="col-sm-4 col-xs-12 booking-calendar">
      <div role="tabpanel">

      
          </div>
          <div ng-class="{'background-gray':date_selected}" class="row-space-top-5">
            <div class="row ">
              <div class="col-xs-8">
                <strong>How many students</strong>
              </div>
              <div class="col-xs-4 pull-right">
                <select ng-disabled="date_selected" ng-model="booking.students" class="form-control input-sm"
                        ng-options="no for no in tutor.student_range()">
                </select>
              </div>
            </div>
            <div ng-show="tutor.discount > 0">
              <span class="label label-success">Discount: {{tutor.discount}}%</span>
              <span
                  class="discount-section">You save &#8358;{{tutor.dicounted_price()}}/hr for each extra student</span>
            </div>
            <table ng-show="booking.Total()>0" class="margin-bottom-0 table table-bordered row-space-top-5">
              <tr>
                <td>{{booking.Summary()}}</td>
                <td class="text-left">{{booking.Total() | specialCurrency:"\u20A6":0}}</td>
              </tr>
              <tr>
                <td>Booking fee ({{booking.BookingFeePercent()}}%) <i popover="This is used to process this booking"
                                                                      popover-placement="bottom"
                                                                      popover-trigger="mouseenter"
                                                                      class="glyphicon glyphicon-question-sign"></i>
                </td>
                <td class="text-left">{{cost(booking.BookingFee())}}</td>
              </tr>
              <tr>
                <td>Total</td>
                <td class="text-left">{{cost(booking.TotalPayment())}}</td>
              </tr>
            </table>
            <div class="margin-top-20">
              <div ng-hide="canSubmit()">
                <small class="booking-text text-danger" ng-show="can_not_submit">{{remaining_hrs()}}</small>
              </div>
              <button ng-disabled="date_selected" ng-click="submitBooking()" class="btn btn-block btn-lg btn-primary">
                Schedule Lesson
              </button>
              <small class="booking-text"><i class="glyphicon glyphicon-lock"></i> Your booking is fully protected
              </small>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="col-sm-5 col-xs-12" ng-controller="TutorCalendarCtrl">
    <div>
    	<div ng-show="date_selected" class="custom-time-picker padding-left-right-15">
          <div class="panel panel-default">
            <div class="panel-heading">
              <button type="button" class="close pull-right" ng-click="cancel('dismiss')">
                <span aria-hidden="true">&times;</span>
                <span class="sr-only">Close</span>
              </button>
              <h3 class="modal-title">{{h3()}}</h3>
              <small>{{subheading(2)}}</small>
            </div>
            <div class="panel-body">
              <div>
                <div class="row">
                  <div class="col-xs-6">
                    <div class="form-group">
                      <select ng-model="selectedDate.start_time" class="form-control input-sm" name="sss"
                              ng-options="item for item in getStartHours()"
                              ng-change="getEndHours(selectedDate.start_time)">
                        <option value="">Start time</option>
                      </select>
                    </div>
                  </div>

                  <div class="col-xs-6">
                    <div class="form-group">
                      <select ng-model="selectedDate.end_time"
                              class="form-control input-sm" name="sss"
                              ng-options="item for item in getEndHours(selectedDate.start_time)">
                        <option value="">End time</option>
                      </select>
                      
                    </div>
                  </div>
                </div>
                <div ng-show="isNew">
                	<div class="checkbox">
					    <label>
					      <input ng-model="selectedDate.reoccur" type="checkbox"> Set this weekday for the next 4 months?
					    </label>
					  </div>
	              </div>            
                </div>
                
              <small>Changes would be reflected after you submit</small>

            </div>
            <div class="panel-footer clearfix">
            <div ng-show="isNew" class="col-sm-6 col-xs-12">
            <small  ng-hide="validate()" class="text-danger invalid-times">
                Pls select a valid start and end time;
              </small>	
            </div>              
              <div ng-show="isNew" class=" col-sm-6 col-xs-12">
                <button class="btn btn-success btn-sm btn-block" ng-click="ok('create')">Add</button>
              </div>
              <div ng-hide="isNew" class="row-space-mobile-4 col-sm-6 col-sm-push-6 col-xs-12">
                <button class="btn btn-info btn-block" ng-click="ok('update')">Update Session</button>
              </div>
              <div ng-hide="isNew" class="col-sm-6 col-sm-pull-6 col-xs-12">
                <button class="btn btn-warning btn-block" ng-click="cancel('cancel')">Cancel Session</button>
              </div>
            </div>
          </div>

        </div>
        <multiple-date-picker directive-scope=ds days-selected="availableDays" day-click="dateClick" sunday-first-day="true"
                            day-hover="hoverEvent" month-changed="logMonthChanged" days-off="noneAvailableDays"
                            disallow-back-past-months="true"></multiple-date-picker>
        <ul class="list-group schedule-change-summary">
		  <li class="list-group-item text-success">You've added <strong>{{new_occurrences()}} day<span ng-show="new_occurrences() >1">s</span></strong> to your calendar</li>
		  <li class="list-group-item text-warning">You've made changes to <strong>{{updates.length}} day<span ng-show="updates.length >1">s</span></strong> on your calendar</li>
		  <li class="list-group-item text-danger">You've removed <strong>{{cancelled.length}} day<span ng-show="cancelled.length >1">s</span></strong> from your calendar</li>		  
		</ul>
    </div>
          <div class="margin-top-20">
              <button ng-disabled="date_selected" ng-click="updateCalendar()" class="btn btn-block btn-lg btn-primary">
                Update Calendar
              </button>
            </div>
          </div>

      
    </div>
  </div>
</div>
<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="bower_components/angular/angular.js"></script>
<!--<script src="bower_components/moment/moment.js"></script>-->
<!-- <script src="vendor.bundle.js"></script>
<script src="main.bundle.js"></script> -->
<script src="vendor.bundle.js"></script>
<script src="tutor_skill_profile.bundle.js"></script>
</body>
</html>